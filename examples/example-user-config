-- Example user config for claude-cage
-- Place at: ~/.config/claude-cage/config
--
-- This file provides your personal defaults across all projects.
-- Overrides system config (/etc/claude-cage/config)
-- Projects can still override these in ./claude-cage.config (required)

claude_cage {
    -- ============================================================================
    -- PERSONAL PREFERENCES
    -- ============================================================================

    -- User mode (default: "single")
    -- Most users should use single-user mode for simpler authentication
    -- userMode = "single",

    -- Show ASCII art banner (default: true)
    -- showBanner = false,

    -- ============================================================================
    -- PERSONAL FILE EXCLUSIONS
    -- ============================================================================

    -- Add your personal excludes (merged with system excludes)
    -- These arrays are merged with system and project configs

    excludeName = {
        ".env",              -- Environment files (anywhere)
        "secrets.json",      -- Secret files (anywhere)
        "*.key",             -- Private keys (anywhere)
        "*.pem",             -- Certificates (anywhere)
        "*.tmp",             -- Temporary files
        "node_modules",      -- JavaScript dependencies
        "target",            -- Java/Rust build output
        ".venv",             -- Python virtual environments
        "vendor",            -- PHP/Go dependencies
        "__pycache__",       -- Python bytecode
        "build",             -- Build output
        "dist"               -- Distribution output
    },

    belowPath = {
        ".git"              -- Git repository at root (blocks git history)
    },

    excludeRegex = {
        ".*\\.log$"         -- Log files
    },

    -- ============================================================================
    -- PERSONAL NETWORK RESTRICTIONS (optional)
    -- ============================================================================

    -- Network restrictions provide OS-level control as defense in depth
    -- Default: disabled (no network restrictions)

    -- Blocklist mode: Block specific connections (everything else allowed)
    -- networkMode = "blocklist",
    -- blockNetworks = {
    --     "127.0.0.1",        -- Block all localhost
    --     "192.168.0.0/16",   -- Block home networks
    --     "10.0.0.0/8",       -- Block office/corporate networks
    --     "172.16.0.0/12"     -- Block corporate private networks
    -- },
    -- blockDomains = {
    --     "secret-api.example.com"    -- Block internal API
    -- },

    -- Blocklist exceptions: Allow specific services even when broader range blocked
    -- allowedIPs = {
    --     "127.0.0.1:5432",   -- PostgreSQL
    --     "127.0.0.1:3306",   -- MySQL
    --     "127.0.0.1:6379",   -- Redis
    --     "127.0.0.1:27017",  -- MongoDB
    --     "127.0.0.1:3000",   -- Common dev server port
    --     "127.0.0.1:8080"    -- Common dev server port
    -- },

    -- Allowlist mode: Only allow specific connections (everything else blocked)
    -- networkMode = "allowlist",
    -- allowedDomains = { "github.com:443", "registry.npmjs.org:443" },
    -- allowedIPs = { "127.0.0.1:5432" },
}
